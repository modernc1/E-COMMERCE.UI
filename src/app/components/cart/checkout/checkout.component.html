<div class="container py-5">
  <div id="items" class="card p-5">
    <!-- <h3>Checkout</h3> -->
     <h3>Address</h3>
    <hr>
    <form #form="ngForm">
      <div class="row">
        <div class="col-6">
          <label class="form-label">State:</label>
          <input [(ngModel)]="Address.state"
          name="state"
          #stateInput="ngModel"
          required
          type="text" class="form-control">
          <span style="font-size: 12px;"
          class="text-danger" *ngIf="stateInput.invalid && stateInput.touched">
            *Required <br>
          </span>
        </div>
        <div class="col-6">
          <label class="form-label">city:</label>
          <input
          [(ngModel)]="Address.city"
          name="city"
          #cityInput="ngModel"
          required=""
          type="text" class="form-control">
          <span style="font-size: 12px;"
          class="text-danger" *ngIf="cityInput.invalid && cityInput.touched">
            *Required <br>
          </span>
        </div>
        <div class="col-6">
          <label class="form-label">Street:</label>
          <input
          [(ngModel)]="Address.street"
          name="street"
          #streetInput="ngModel"
          required
          minlength="5"
          type="text" class="form-control">
          <span style="font-size: 12px;"
          class="text-danger" *ngIf="streetInput.invalid && streetInput.touched">
            *Required <br>
          </span>
        </div>
        <div class="col-6">
          <label class="form-label">Phone Number:</label>
          <input
          [(ngModel)]="Address.phoneNumber"
          name="phoneNumber"
          #phoneInput="ngModel"
          type="tel" pattern="^(010|011|012|015)[0-9]{8}$"
          class="form-control">
          <span style="font-size: 12px;"
          class="text-danger" *ngIf="phoneInput.invalid && phoneInput.touched">
            *Invalid phone number <br>
            *must start with 010, 011, 012, 015<br>
            *must be 11 digits
          </span>
        </div>
      </div>
    </form>
    <!-- <div *ngFor="let item of cartItems; let i = index" class="cart-item-container row align-items-center">
      <div class="col-6 col-lg-3">
        <img src="{{item.productItem.imagesUrl.at(0)}}" style="max-width: 140px; max-height: 140px;">
      </div>
      <div class="col-6 col-lg-6">
        <h5 style="font-size: 16px; font-weight: 600;">{{item.product.name}}</h5>
        <h6 style="font-size: 14px; font-weight: 400;">{{item.product.category.name}}</h6>
        <label style="font-size: 13px; font-weight: 600;">Size: {{item.productVariation.sizeOption.name}}</label>
        <div style="width: 100px;">
          <label style="font-size: 13px; font-weight: 600;">Quantity: {{item.quantity}}</label>
        </div>
      </div>
      <div class="col-12 col-lg-3">
        <p>Unit Price: {{item.productItem.salePrice}}EGP</p>
        <p>Total Price: {{item.productItem.salePrice * item.quantity}}EGP</p>
      </div>
      <hr class="mt-1">
    </div> -->
  </div>

  <div id="invoices" class="card">
    <div class="card-header">
      <h3>Invoice</h3>
    </div>
    <div class="card-body">
      <div class="invoice-details">
        <div *ngFor="let item of cartItems" class="row">
          <div class="col-8">
            <h6>{{item.product.name}} X {{item.quantity}}</h6>
            <p>original price: {{item.productItem.originalPrice}} EGP</p>
            <p>sale Price: {{item.productItem.salePrice}} EGP</p>
          </div>
          <div class="col-4 d-flex justify-content-start align-items-end">
            <p style="font-size: 14px;">total: {{item.productItem.salePrice * item.quantity}}</p>
          </div>
          <hr>
        </div>
      </div>
      <div class="total-price row">
        <h5 class="col-6">Total Amount: </h5>
        <h5 class="col-6">{{countTotalPrice()}}EGP</h5>
      </div>
    </div>
  </div>
  <div id="proceed" class="d-flex justify-content-center">
    <button [disabled]="form.invalid"
    class="btn btn-md btn-warning text-white" (click)="proceedPayment()">Proceed To Payment</button>
  </div>
</div>
